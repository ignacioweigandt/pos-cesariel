# ===========================================
# Railway Environment Variables - Backend
# ===========================================
#
# SETUP INSTRUCTIONS:
# 1. Generate secrets: python3 generate_secrets.py --all
# 2. Copy values to Railway Dashboard
# 3. Link PostgreSQL database (auto-configures DB variables)
# 4. Deploy and run: railway run alembic upgrade head
#
# ===========================================

# ===== ENVIRONMENT =====
ENV=production
DEBUG=false
NODE_ENV=production

# ===== DATABASE (Auto-configured by Railway) =====
# When you link the PostgreSQL service, Railway auto-creates these:
DATABASE_URL=${{Postgres.DATABASE_URL}}
DB_HOST=${{Postgres.PGHOST}}
DB_PORT=${{Postgres.PGPORT}}
DB_NAME=${{Postgres.PGDATABASE}}
DB_USER=${{Postgres.PGUSER}}
DB_PASSWORD=${{Postgres.PGPASSWORD}}

# ===== JWT (GENERATE NEW FOR PRODUCTION!) =====
JWT_SECRET_KEY=<run: python3 generate_secrets.py>
JWT_EXPIRE_MINUTES=480
SECRET_KEY=<run: python3 generate_secrets.py>

# ===== CLOUDINARY (REGENERATE - Current keys compromised!) =====
# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=<your_new_cloud_name>
CLOUDINARY_API_KEY=<your_new_api_key>
CLOUDINARY_API_SECRET=<your_new_api_secret>

# ===== RATE LIMITING (Optional - for Redis) =====
# If you add Redis service in Railway:
# REDIS_URL=${{Redis.REDIS_URL}}
# RATE_LIMIT_EXEMPT_IPS=

# ===== SENTRY (Optional - for error tracking) =====
# SENTRY_DSN=https://...@sentry.io/...

# ===========================================
# Railway Environment Variables - Frontend POS
# ===========================================

# ===== API URLS =====
# Server-side (internal Railway network):
API_URL=https://${{Backend.RAILWAY_PRIVATE_DOMAIN}}:8000
# Or use public URL:
# API_URL=https://pos-cesariel-backend-production.up.railway.app

# Client-side (browser):
NEXT_PUBLIC_API_URL=https://pos-cesariel-backend-production.up.railway.app

# ===== ENVIRONMENT =====
NODE_ENV=production

# ===========================================
# Railway Environment Variables - E-commerce
# ===========================================

# ===== API URLS =====
API_URL=https://${{Backend.RAILWAY_PRIVATE_DOMAIN}}:8000
NEXT_PUBLIC_API_URL=https://pos-cesariel-backend-production.up.railway.app

# ===== PORT =====
PORT=3001

# ===== ENVIRONMENT =====
NODE_ENV=production

# ===========================================
# IMPORTANT NOTES
# ===========================================
#
# 1. NEVER commit real values to git
# 2. Use Railway Dashboard to set these variables
# 3. ${{Service.VARIABLE}} is Railway's magic variable syntax
# 4. Link services in Railway to auto-configure internal URLs
# 5. After setting variables, Railway auto-redeploys
# 6. Run migrations AFTER backend deploys: railway run alembic upgrade head
#
# ===========================================
